{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-ced23842\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-primary btn-med\",\n  id: \"home-btn\",\n  role: \"button\"\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Home\")], -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Delete Account\", -1 /* HOISTED */));\nconst _hoisted_3 = [_hoisted_2];\nconst _hoisted_4 = {\n  class: \"posts\"\n};\nconst _hoisted_5 = {\n  class: \"card-body\"\n};\nconst _hoisted_6 = {\n  class: \"card-title\"\n};\nconst _hoisted_7 = {\n  class: \"card-subtitle mb-4 text-strong\"\n};\nconst _hoisted_8 = {\n  class: \"card-text mb-4\"\n};\nconst _hoisted_9 = {\n  class: \"card-img\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"card-subtitle text-muted\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderLogo = _resolveComponent(\"HeaderLogo\");\n  const _component_RouterLink = _resolveComponent(\"RouterLink\");\n  const _component_RouterView = _resolveComponent(\"RouterView\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_HeaderLogo), _createVNode(_component_RouterLink, {\n    to: \"/home\"\n  }, {\n    default: _withCtx(() => [_hoisted_1]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"button\", {\n    class: \"btn btn-primary btn-lg\",\n    id: \"delete_account_btn\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers($event => $options.deleteAccount(), [\"prevent\"])),\n    role: \"button\"\n  }, _hoisted_3), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.posts, post => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: post.userid,\n      class: \"card\"\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h4\", _hoisted_6, [_createElementVNode(\"strong\", null, _toDisplayString(post.title), 1 /* TEXT */)]), _createElementVNode(\"h5\", _hoisted_7, \"posted by \" + _toDisplayString(post.author), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, _toDisplayString(post.posttext), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"img\", {\n      src: post.image\n    }, null, 8 /* PROPS */, _hoisted_10)]), _createElementVNode(\"p\", _hoisted_11, _toDisplayString(post.creationdate), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createVNode(_component_RouterView)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;gEAGQA,oBAAkG;EAA1FC,KAAK,EAAC,yBAAyB;EAACC,EAAE,EAAC,UAAU;EAACC,IAAI,EAAC;iBAASH,oBAAqB,gBAAb,MAAI;gEAGlEA,oBAA+B,gBAAvB,gBAAc;oBAAtBI,UAA+B;;EAC5CH,KAAK,EAAC;AAAO;;EAELA,KAAK,EAAC;AAAW;;EACdA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAgC;;EACvCA,KAAK,EAAC;AAAgB;;EACpBA,KAAK,EAAC;AAAU;;;EAGlBA,KAAK,EAAC;AAA0B;;;;;6DAf/CI,aAAcC,wBACdD,aAEaE;IAFDC,EAAE,EAAC;EAAO;sBAClB,MAAkG,CAAlGC,UAAkG;;MAEtGT,oBAC0D;IADlDC,KAAK,EAAC,wBAAwB;IAACC,EAAE,EAAC,oBAAoB;IAAMQ,OAAK,qDAAUC,sBAAa;IAC5FR,IAAI,EAAC;kBACTH,oBAYM,OAZNY,UAYM,sBAXFC,oBAUMC,6BAVcC,WAAK,EAAbC,IAAI;yBAAhBH,oBAUM;MAVsBI,GAAG,EAAED,IAAI,CAACE,MAAM;MAAEjB,KAAK,EAAC;QAChDD,oBAQM,OARNmB,UAQM,GAPFnB,oBAA6D,MAA7DoB,UAA6D,GAAtCpB,oBAAiC,iCAAtBgB,IAAI,CAACK,KAAK,oBAC5CrB,oBAA2E,MAA3EsB,UAA2E,EAAhC,YAAU,oBAAGN,IAAI,CAACO,MAAM,kBACnEvB,oBAAiD,KAAjDwB,UAAiD,mBAApBR,IAAI,CAACS,QAAQ,kBAC1CzB,oBAEM,OAFN0B,UAEM,GADF1B,oBAA+B;MAAnB2B,GAAG,EAAEX,IAAI,CAACY;4CAE1B5B,oBAA+D,KAA/D6B,WAA+D,mBAAxBb,IAAI,CAACc,YAAY;oCAIpEzB,aAAc0B","names":["_createElementVNode","class","id","role","_hoisted_2","_createVNode","_component_HeaderLogo","_component_RouterLink","to","_hoisted_1","onClick","$options","_hoisted_4","_createElementBlock","_Fragment","$data","post","key","userid","_hoisted_5","_hoisted_6","title","_hoisted_7","author","_hoisted_8","posttext","_hoisted_9","src","image","_hoisted_11","creationdate","_component_RouterView"],"sourceRoot":"","sources":["/Users/stevengalarza/Webcodes/Project-7/frontend/src/views/Profile.vue"],"sourcesContent":["<template>\n    <HeaderLogo />\n    <RouterLink to=\"/home\">\n        <button class=\"btn btn-primary btn-med\" id=\"home-btn\" role=\"button\"><strong>Home</strong></button>\n    </RouterLink>\n    <button class=\"btn btn-primary btn-lg\" id=\"delete_account_btn\" v-on:click.prevent=\"deleteAccount()\"\n        role=\"button\"><strong>Delete Account</strong></button>\n    <div class=\"posts\">\n        <div v-for=\"post in posts\" :key=\"post.userid\" class=\"card\">\n            <div class=\"card-body\">\n                <h4 class=\"card-title\"><strong>{{ post.title }}</strong></h4>\n                <h5 class=\"card-subtitle mb-4 text-strong\">posted by {{ post.author }}</h5>\n                <p class=\"card-text mb-4\">{{ post.posttext }}</p>\n                <div class=\"card-img\">\n                    <img v-bind:src=\"post.image\" />\n                </div>\n                <p class=\"card-subtitle text-muted\">{{ post.creationdate }}</p>\n            </div>\n        </div>\n    </div>\n    <RouterView />\n</template>\n\n<script>\nimport HeaderLogo from '@/components/HeaderLogo.vue';\n\nexport default {\n    data() {\n        return {\n            posts: []\n        }\n    },\n    created() {\n        this.getPosts()\n    },\n\n    methods: {\n        getPosts() {\n            const userId = JSON.parse(localStorage.getItem(\"user\")).userId\n            const requestOptions = {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).token,\n                },\n            }\n\n            fetch(\"http://localhost:3000/api/posts/\" + userId, requestOptions)\n                .then((res) => {\n                    return res.json()\n                        .then((data) => {\n                            this.posts = data;\n                            console.log(data);\n                        });\n                })\n                .catch((error) => {\n                    console.error(\"There was an error!\", error);\n                });\n        },\n        deleteAccount() {\n            const requestOptions = {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).token,\n                },\n            };\n            fetch(\"http://localhost:3000/api/users/\" + JSON.parse(localStorage.getItem(\"user\")).userId, requestOptions)\n                .then((res) => {\n                    return res.json()\n                        .then((data) => {\n                            console.log(data);\n                            if (res.ok) {\n                                this.$router.push(\"/\");\n                                alert(\"Your account has been deleted\");\n                            }\n                        });\n                })\n                .catch((error) => {\n                    console.error(\"There was an error!\", error);\n                });\n        },\n    },\n\n    components: {\n        HeaderLogo,\n\n    }\n}\n\n\n\n</script>\n\n\n<style scoped>\n#home_btn {\n    margin: 2rem 0 4rem 8rem;\n    font-size: 18px;\n}\n\n#delete_account_btn {\n    margin: 2rem 0 4rem 3rem;\n    font-size: 16px;\n}\n\n.card {\n    margin-left: 22rem;\n    margin-bottom: 2rem;\n    width: 50%;\n}\n.card-body {\n    background: linear-gradient(to bottom right, #9ea5f4, #fff);\n    box-shadow: 6px 6px 3px rgba(65, 64, 64, 0.867);\n    padding: 2rem;\n    width: 100%;\n}\n\nimg {\n    height: auto;\n    width: 100%;\n    margin-bottom: 1rem;\n}\n@media screen and (max-width: 768px) {\n    #home_btn {\n        margin: 1rem 0 2rem 3rem;\n        font-size: 18px;\n    }\n\n    #delete_account_btn {\n        margin: 1rem 0 2rem 1rem;\n        font-size: 16px;\n    }\n    .card {\n        display: flex;\n        justify-content: center;\n        margin: .5rem;\n        width: 95%;\n        box-shadow: none;\n    }\n}\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}